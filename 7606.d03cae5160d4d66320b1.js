"use strict";(self.webpackChunkmusicblocks=self.webpackChunkmusicblocks||[]).push([[7606],{7606:function(e,t,i){i.r(t),i.d(t,{default:function(){return _}});var n=i(885),s=i(5671),r=i(3144),a=i(9737),h=i(5178),_=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4;(0,s.Z)(this,e),this._t=void 0===i?new a.default:i,this._ks=void 0===t?new h.default("major","c",this._t.numberOfSemitonesInOctave):t,this._semitoneIndex=n,this._octave=r,this._genericName=this._t.getNoteName(this._semitoneIndex),this._freq=this._t.getFreqByModalIndexAndOctave(this._semitoneIndex,this._octave),this._number=this._octave*this._t.numberOfSemitonesInOctave+this._semitoneIndex}return(0,r.Z)(e,[{key:"freq",get:function(){return this._freq}},{key:"octave",get:function(){return this._octave}},{key:"genericName",get:function(){return this._genericName}},{key:"semitoneIndex",get:function(){return this._semitoneIndex}},{key:"number",get:function(){return this._number}},{key:"_defineByFrequency",value:function(e){this._number=this._t.getNearestFreqIndex(e),this._freq=this._t.getFreqByIndex(this._number);var t=this._t.getModalIndexAndOctaveFromFreqIndex(this._number),i=(0,n.Z)(t,2);this._semitoneIndex=i[0],this._octave=i[1],this._genericName=this._t.getNoteName(this._semitoneIndex)}},{key:"setPitch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;if("number"==typeof e)if(e%1!=0)this._defineByFrequency(e);else if(e>this._t.numberOfNotesInTemperament)this._defineByFrequency(e);else if(e>this._t.numberOfSemitonesInOctave){this._number=e,this._freq=this._t.getFreqByIndex(this._number);var i=this._t.getModalIndexAndOctaveFromFreqIndex(this._number),s=(0,n.Z)(i,2);this._semitoneIndex=s[0],this._octave=s[1],this._genericName=this._t.getNoteName(this._semitoneIndex)}else this._semitoneIndex=e,this._octave=t,this._genericName=this._t.getNoteName(this._semitoneIndex),this._freq=this._t.getFreqByModalIndexAndOctave(this._semitoneIndex,this._octave),this._number=this._t.getNearestFreqIndex(this._freq);else if("string"==typeof e){try{this._genericName=this._ks.convertToGenericNoteName(e)}catch(e){this._genericName=e.defaultValue}this._semitoneIndex=this._t.getModalIndex(this._genericName),this._octave=t,this._freq=this._t.getFreqByModalIndexAndOctave(this._semitoneIndex,this._octave),this._number=this._t.getNearestFreqIndex(this._freq)}}},{key:"applySemitoneTransposition",value:function(e){var t,i;try{var s=this._ks.semitoneTransform(this._genericName,e),r=(0,n.Z)(s,2);t=r[0],i=r[1]}catch(e){var a=(0,n.Z)(e.defaultValue,2);t=a[0],i=a[1]}this._genericName=t,this._octave+=i,this._semitoneIndex=this._t.getModalIndex(this._genericName),this._freq=this._t.getFreqByModalIndexAndOctave(this._semitoneIndex,this._octave),this._number=this._t.getNearestFreqIndex(this._freq)}},{key:"applyScalarTransposition",value:function(e){var t=this._ks.scalarTransform(this._genericName,e).slice(0,2),i=(0,n.Z)(t,2),s=i[0],r=i[1];this._genericName=s,this._octave+=r,this._semitoneIndex=this._t.getModalIndex(this._genericName),this._freq=this._t.getFreqByModalIndexAndOctave(this._semitoneIndex,this._octave),this._number=this._t.getNearestFreqIndex(this._freq)}},{key:"getSemitoneInterval",value:function(e){var t,i;try{var s=this._ks.semitoneTransform(this._genericName,e),r=(0,n.Z)(s,2);t=r[0],i=r[1]}catch(e){var a=(0,n.Z)(e.defaultValue,2);t=a[0],i=a[1]}var h=this._t.getModalIndex(t),_=this._octave+i;return this._t.getFreqByModalIndexAndOctave(h,_)}},{key:"getScalarInterval",value:function(e){var t=this._ks.scalarTransform(this._genericName,e).slice(0,2),i=(0,n.Z)(t,2),s=i[0],r=i[1],a=this._t.getModalIndex(s),h=this._octave+r;return this._t.getFreqByModalIndexAndOctave(a,h)}},{key:"toString",value:function(){return"".concat(this._genericName," ").concat(this._freq)}}]),e}()}}]);