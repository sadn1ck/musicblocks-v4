"use strict";(self.webpackChunkmusicblocks=self.webpackChunkmusicblocks||[]).push([[3068],{3068:function(t,e,n){n.r(e),n.d(e,{ElementResetNotesPlayed:function(){return m},ElementTestSynth:function(){return v},noteValueToSeconds:function(){return P},setup:function(){return O}});var r=n(5671),o=n(3144),c=n(136),u=n(3930),i=n(1120),s=n(4942),a=n(5851),f=n(9274);function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,i.Z)(t);if(e){var o=(0,i.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var p=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){(0,s.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},{notesPlayed:0,beat:1/4,beatsPerMinute:90}),b=new Proxy(p,{set:function(t,e,n){return"beatsPerMinute"===e?p.beatsPerMinute=n:"beat"===e?p.beat=n:"notesPlayed"===e&&(p.notesPlayed=n),!0}}),h=(new a.WV).toDestination();function P(t){return 60/b.beatsPerMinute*(t/b.beat)}function O(){return new Promise((function(t){t()}))}var v=function(t){(0,c.Z)(n,t);var e=l(n);function n(){return(0,r.Z)(this,n),e.call(this,"test-synth","test synth",{pitch:["number","string"],noteValue:["number"]})}return(0,o.Z)(n,[{key:"onVisit",value:function(t){var e=a.zO(),n=t.noteValue,r=P(b.notesPlayed);t.pitch,h.triggerAttackRelease(t.pitch,n+"n",e+r),b.notesPlayed+=1/n}}]),n}(f.ElementStatement),m=function(t){(0,c.Z)(n,t);var e=l(n);function n(){return(0,r.Z)(this,n),e.call(this,"reset-notes-played","reset",{})}return(0,o.Z)(n,[{key:"onVisit",value:function(){b.notesPlayed=0}}]),n}(f.ElementStatement)}}]);