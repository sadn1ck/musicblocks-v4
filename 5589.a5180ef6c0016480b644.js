"use strict";(self.webpackChunkmusicblocks=self.webpackChunkmusicblocks||[]).push([[5589,197,4942,4116],{197:function(n,t,e){e.r(t),e.d(t,{InvalidArgumentDefaultError:function(){return m},InvalidArgumentError:function(){return p},ItemNotFoundDefaultError:function(){return h},ItemNotFoundError:function(){return s}});var r=e(5671),o=e(3144),i=e(136),u=e(3930),c=e(1120);function a(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}();return function(){var e,r=(0,c.Z)(n);if(t){var o=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,u.Z)(this,e)}}var f=function(n){(0,i.Z)(e,n);var t=a(e);function e(n,o){var i;return(0,r.Z)(this,e),(i=t.call(this,o))._name=n,i}return(0,o.Z)(e,[{key:"name",get:function(){return this._name}}]),e}((0,e(2407).Z)(Error)),l=function(n){(0,i.Z)(e,n);var t=a(e);function e(n,o,i){var u;return(0,r.Z)(this,e),(u=t.call(this,n,o))._defaultValue=i,u}return(0,o.Z)(e,[{key:"defaultValue",get:function(){return this._defaultValue}}]),e}(f),s=function(n){(0,i.Z)(e,n);var t=a(e);function e(n){return(0,r.Z)(this,e),t.call(this,"ItemNotFoundError",n)}return(0,o.Z)(e)}(f),h=function(n){(0,i.Z)(e,n);var t=a(e);function e(n,o){return(0,r.Z)(this,e),t.call(this,"ItemNotFoundError",n,o)}return(0,o.Z)(e)}(l),p=function(n){(0,i.Z)(e,n);var t=a(e);function e(n){return(0,r.Z)(this,e),t.call(this,"InvalidArgumentError",n)}return(0,o.Z)(e)}(f),m=function(n){(0,i.Z)(e,n);var t=a(e);function e(n,o){return(0,r.Z)(this,e),t.call(this,"InvalidArgumentError",n,o)}return(0,o.Z)(e)}(l)},4116:function(n,t,e){e.r(t),e.d(t,{Scale:function(){return l}});var r=e(885),o=e(5671),i=e(3144),u=e(4942),c=e(197);function a(n,t){var e="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=function(n,t){if(n){if("string"==typeof n)return f(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?f(n,t):void 0}}(n))||t&&n&&"number"==typeof n.length){e&&(n=e);var r=0,o=function(){};return{s:o,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){e=e.call(n)},n:function(){var n=e.next();return u=n.done,n},e:function(n){c=!0,i=n},f:function(){try{u||null==e.return||e.return()}finally{if(c)throw i}}}}function f(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}var l=function(){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,u=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if((0,o.Z)(this,n),null===t){this._numberOfSemitones=i,t=[];for(var c=0;c<this._numberOfSemitones;c++)t.push(1)}else{this._numberOfSemitones=0;var f,l=a(t);try{for(l.s();!(f=l.n()).done;){var s=f.value;this._numberOfSemitones+=s}}catch(n){l.e(n)}finally{l.f()}}this._noteNames=[];for(var h=0;h<this._numberOfSemitones;h++)this._noteNames.push("n".concat(h));var p=e%this._noteNames.length,m=0;this._scale=[this._noteNames[p]],this._octaveDeltas=[m];var v,y=a(t);try{for(y.s();!(v=y.n()).done;){var d=v.value;(p+=d)>=this._numberOfSemitones&&(m++,p-=this._numberOfSemitones),this._scale.push(this._noteNames[p]),this._octaveDeltas.push(m)}}catch(n){y.e(n)}finally{y.f()}if(this._numberOfSemitones!==i&&21==i){var b,g=u?0:1,_=a(this._scale.entries());try{for(_.s();!(b=_.n()).done;){var S=(0,r.Z)(b.value,2),Z=S[0],O=S[1];this._scale[Z]=n.TWELVE2TWENTYONE[O][g]}}catch(n){_.e(n)}finally{_.f()}this._numberOfSemitones=i,this._noteNames=[];for(var w=0;w<this._numberOfSemitones;w++)this._noteNames.push("n".concat(w))}}return(0,i.Z)(n,[{key:"numberOfSemitones",get:function(){return this._noteNames.length}},{key:"noteNames",get:function(){return this._noteNames}},{key:"getScale",value:function(n){if(void 0===n)return this._scale;if(n.length===this._numberOfSemitones){for(var t=[],e=0;e<this._scale.length;e++)t.push(n[this._noteNames.indexOf(this._scale[e])]);return t}throw new c.InvalidArgumentError("pitch format does not match number of semitones")}},{key:"getScaleAndOctaveDeltas",value:function(n){return[this.getScale(n),this._octaveDeltas]}}]),n}();(0,u.Z)(l,"TWELVE2TWENTYONE",{n0:["n0","n0"],n1:["n1","n2"],n2:["n3","n3"],n3:["n4","n5"],n4:["n6","n6"],n5:["n9","n9"],n6:["n10","n11"],n7:["n12","n12"],n8:["n13","n14"],n9:["n15","n15"],n10:["n16","n17"],n11:["n18","n18"]})},5589:function(n,t,e){e.r(t);var r=e(4116);describe("class Scale",(function(){describe("Validate scale generation",(function(){var n=new r.Scale([2,2,1,2,2,2,1],0);test("Generate scale for C Major and verify",(function(){expect(n.getScale()).toEqual(["n0","n2","n4","n5","n7","n9","n11","n0"]),expect(n.numberOfSemitones).toBe(12),expect(n.noteNames).toEqual(["n0","n1","n2","n3","n4","n5","n6","n7","n8","n9","n10","n11"])})),test("Generate scale for C Major with pitch format and verify",(function(){expect(n.getScale(["c","c#","d","d#","e","f","f#","g","g#","a","a#","b"])).toEqual(["c","d","e","f","g","a","b","c"])})),test("Generate scale for C Major with pitch format not matching with number of semitones and expect error",(function(){expect((function(){n.getScale(["c","c#","d","d#","e","f","f#","g","g#","a"])})).toThrowError("pitch format does not match number of semitones")}));var t=new r.Scale([2,2,1,2,2,2,1],7);test("Generate scale for G Major and verify",(function(){expect(t.getScale()).toEqual(["n7","n9","n11","n0","n2","n4","n6","n7"])})),test("Expect octave delta of 4th note in the G Major scale to be 1",(function(){expect(t.getScaleAndOctaveDeltas()[1][3]).toBe(1)}));var e=new r.Scale;test("Generate scale when halfstep pattern is not defined and verify it",(function(){expect(e.getScale()).toEqual(["n0","n1","n2","n3","n4","n5","n6","n7","n8","n9","n10","n11","n0"])}));var o=new r.Scale([2,2,1,2,2,2,1],7,21);test("Generate scale for C Major when number of semitones are 21 and verify",(function(){expect(o.getScale()).toEqual(["n12","n15","n18","n0","n3","n6","n10","n12"])}))}))}))},5671:function(n,t,e){function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}e.d(t,{Z:function(){return r}})},3144:function(n,t,e){function r(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function o(n,t,e){return t&&r(n.prototype,t),e&&r(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}e.d(t,{Z:function(){return o}})},4942:function(n,t,e){function r(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}e.d(t,{Z:function(){return r}})},1120:function(n,t,e){function r(n){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},r(n)}e.d(t,{Z:function(){return r}})},136:function(n,t,e){e.d(t,{Z:function(){return o}});var r=e(9611);function o(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&(0,r.Z)(n,t)}},3930:function(n,t,e){e.d(t,{Z:function(){return o}});var r=e(1002);function o(n,t){if(t&&("object"===(0,r.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}},9611:function(n,t,e){function r(n,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,t){return n.__proto__=t,n},r(n,t)}e.d(t,{Z:function(){return r}})},1002:function(n,t,e){function r(n){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},r(n)}e.d(t,{Z:function(){return r}})},2407:function(n,t,e){e.d(t,{Z:function(){return c}});var r=e(1120),o=e(9611);function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}function u(n,t,e){return u=i()?Reflect.construct.bind():function(n,t,e){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(n,r));return e&&(0,o.Z)(i,e.prototype),i},u.apply(null,arguments)}function c(n){var t="function"==typeof Map?new Map:void 0;return c=function(n){if(null===n||(e=n,-1===Function.toString.call(e).indexOf("[native code]")))return n;var e;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(n))return t.get(n);t.set(n,i)}function i(){return u(n,arguments,(0,r.Z)(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),(0,o.Z)(i,n)},c(n)}}}]);